<%- include('../partials/head', {styles:['createProduct', 'headerfooter'], title: 'Editar Producto'}) %>
<body>
    <%- include('../partials/header') %>
	<div class="containerForm">
		<div class="row">
			<div class="formTitle">
				<h1 class="products-title">Editar Producto</h2>
			</div>
		</div>
		<div class="formCreateP">
			<form class="form-box" action="/products/<%= productToEdit.id %>?_method=PUT" method="POST" enctype="multipart/form-data">
				<div class="rowFormP">
					<div class="formName">
						<label for="name" class="form-label">Nombre del producto:</label>
						<input type="text" id="name" name="name" placeholder="Ej: Pelota Topper Retro II Campo" class="form-input" value="<%= productToEdit.name %>">
					</div>
					<div class="formBrand">
						<label for="brands_id" class="form-label">Marca del producto:</label>
						<div class="form-select">

							<select name="brands_id" id="brands_id" class="form-input" required>
								<option value="">-</option>
								<% locals.brands && brands.forEach(brand => { %>
									<option value="<%= brand.id %>" <%= productToEdit.brand.name == brand.name && "selected" %>><%= brand.name %></option>
									<% }) %>
							</select>
							<div class="add-btn">
								<a href="/brands/create">
									<i class="fa-solid fa-plus"></i>
								</a>
							</div>
						</div>
					</div>
					<div class="formCat">
						<label for="categories_id" class="form-label">Categoría:</label>
						<div class="form-select">

							<select name="categories_id" id="categories_id" class="form-input" required>
								<option value="">-</option>
								<% locals.categories && categories.forEach(category => { %>
									<option value="<%= category.id %>" <%= productToEdit.category.name == category.name && "selected" %>><%= category.name %></option>
									<% }) %>
								</select>
								<div class="add-btn">
									<a href="/categories/create">
										<i class="fa-solid fa-plus"></i>
									</a>
								</div>
							</div>
					</div>
					<div class="formPrice">
						<label for="price" class="form-label">Precio del producto:</label>
						<input type="text" id="price" name="price" placeholder="Ej: $5678" class="form-input" value="<%= productToEdit.price %>">
					</div>
					<div class="formQuantity">
						<label for="quantity" class="form-label">Cantidad en stock:</label>
						<input type="text" id="quantity" name="quantity" placeholder="Ej: 99" class="form-input" value="<%= productToEdit.quantity %>">
					</div>
					<div class="formDescription">
						<label for="description" class="form-label">Descipción:</label>
						<textarea name="description" id="description" class="form-input"><%= productToEdit.description %></textarea>
					</div>
					<div class="formPicture">
						<label class="form-label" for="picture">Seleccione Foto de Producto:</label>
						<input class="picture" type="file" name="picture" id="picture" />
					</div>
					<div class="formCreateButton">
						<button type="submit" class="buy-now-button">Editar producto</button>
					</div>
				</div>
			</form>
			<form action="/products/<%= productToEdit.id %>?_method=DELETE" method="POST" class="formDeleteButton">
				<button type="submit" class="delete-button">Eliminar producto</button>
			</form>
		</div>
	</div>
    <%- include('../partials/footer') %>
</body>	
</html>